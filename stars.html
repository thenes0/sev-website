<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gelişmiş 3D Güneş Sistemi</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // === Temel Three.js Ayarları ===
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 5000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // === Kamera Kontrolleri ===
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        camera.position.set(0, 100, 500);
        controls.update();

        // === Işıklar ===
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.2); // Ortam ışığı
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xffffff, 1); // Güneş ışığı
        pointLight.position.set(0, 0, 0);
        scene.add(pointLight);

        // === Güneş ===
        const sunGeometry = new THREE.SphereGeometry(50, 32, 32);
        const sunMaterial = new THREE.MeshBasicMaterial({ color: 0xffcc00 });
        const sun = new THREE.Mesh(sunGeometry, sunMaterial);
        scene.add(sun);

        // === Gezegenler ve Yörüngeler ===
        const planets = [
            { name: "Merkür", radius: 5, distance: 100, color: 0xaaaaaa, speed: 0.04 },
            { name: "Venüs", radius: 8, distance: 150, color: 0xffcc66, speed: 0.02 },
            { name: "Dünya", radius: 10, distance: 200, color: 0x3399ff, speed: 0.01 },
            { name: "Mars", radius: 7, distance: 250, color: 0xff3300, speed: 0.008 },
            { name: "Jüpiter", radius: 20, distance: 350, color: 0xff9966, speed: 0.005 },
            { name: "Satürn", radius: 18, distance: 450, color: 0xffcc33, speed: 0.003 },
            { name: "Uranüs", radius: 15, distance: 550, color: 0x66ccff, speed: 0.002 },
            { name: "Neptün", radius: 15, distance: 650, color: 0x3333ff, speed: 0.0015 }
        ];

        const planetMeshes = [];
        const orbits = [];

        planets.forEach(planet => {
            // Gezegen
            const planetGeometry = new THREE.SphereGeometry(planet.radius, 32, 32);
            const planetMaterial = new THREE.MeshStandardMaterial({ color: planet.color });
            const planetMesh = new THREE.Mesh(planetGeometry, planetMaterial);
            planetMesh.position.x = planet.distance;
            scene.add(planetMesh);
            planetMeshes.push({ mesh: planetMesh, speed: planet.speed, distance: planet.distance, angle: 0 });

            // Yörünge
            const orbitGeometry = new THREE.RingGeometry(planet.distance - 0.1, planet.distance + 0.1, 64);
            const orbitMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide });
            const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
            orbit.rotation.x = Math.PI / 2;
            scene.add(orbit);
            orbits.push(orbit);
        });

        // === Arka Plan Yıldızları ===
        function createStars() {
            const starGeometry = new THREE.SphereGeometry(0.5, 24, 24);
            const starMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });

            for (let i = 0; i < 1000; i++) {
                const star = new THREE.Mesh(starGeometry, starMaterial);
                star.position.set(
                    (Math.random() - 0.5) * 5000,
                    (Math.random() - 0.5) * 5000,
                    (Math.random() - 0.5) * 5000
                );
                scene.add(star);
            }
        }
        createStars();

        // === Dünya'nın İçine Girme ===
        let isInsideEarth = false;

        function checkEarthProximity() {
            const earth = planetMeshes.find(p => p.mesh.geometry.parameters.radius === 10).mesh;
            const distanceToEarth = camera.position.distanceTo(earth.position);

            if (distanceToEarth < 50 && !isInsideEarth) {
                isInsideEarth = true;
                enterEarth();
            } else if (distanceToEarth > 50 && isInsideEarth) {
                isInsideEarth = false;
                exitEarth();
            }
        }

        function enterEarth() {
            console.log("Dünya'nın içine girildi!");
            scene.background = new THREE.Color(0x0000ff); // İçeride mavi bir ortam
        }

        function exitEarth() {
            console.log("Dünya'dan çıkıldı!");
            scene.background = null; // Dışarıda yıldızlı ortam
        }

        // === Animasyon ===
        function animate() {
            requestAnimationFrame(animate);

            // Gezegenlerin hareketi
            planetMeshes.forEach(planet => {
                planet.angle += planet.speed;
                planet.mesh.position.x = planet.distance * Math.cos(planet.angle);
                planet.mesh.position.z = planet.distance * Math.sin(planet.angle);
            });

            checkEarthProximity();

            controls.update();
            renderer.render(scene, camera);
        }

        animate();

        // === Pencere Boyutlandırma ===
        window.addEventListener("resize", () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });
    </script>
</body>
</html>
